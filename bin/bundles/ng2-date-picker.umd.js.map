{"version":3,"file":"ng2-date-picker.umd.js.map","sources":["ng://ng2-date-picker/common/types/calendar-mode-enum.ts","ng://ng2-date-picker/common/types/calendar-value-enum.ts","ng://ng2-date-picker/common/types/selection-evet.enum..ts","ng://ng2-date-picker/common/services/dom-appender/dom-appender.service.ts","ng://ng2-date-picker/common/services/utils/utils.service.ts","node_modules/tslib/tslib.es6.js","ng://ng2-date-picker/day-calendar/day-calendar.service.ts","ng://ng2-date-picker/time-select/time-select.service.ts","ng://ng2-date-picker/day-time-calendar/day-time-calendar.service.ts","ng://ng2-date-picker/date-picker/date-picker.service.ts","ng://ng2-date-picker/date-picker/date-picker.component.ts","ng://ng2-date-picker/date-picker/date-picker-directive.service.ts","ng://ng2-date-picker/date-picker/date-picker.directive.ts","ng://ng2-date-picker/day-calendar/day-calendar.component.ts","ng://ng2-date-picker/month-calendar/month-calendar.service.ts","ng://ng2-date-picker/month-calendar/month-calendar.component.ts","ng://ng2-date-picker/year-calendar/year-calendar.service.ts","ng://ng2-date-picker/year-calendar/year-calendar.component.ts","ng://ng2-date-picker/time-select/time-select.component.ts","ng://ng2-date-picker/calendar-nav/calendar-nav.component.ts","ng://ng2-date-picker/day-time-calendar/day-time-calendar.component.ts","ng://ng2-date-picker/date-picker.module.ts"],"sourcesContent":["export enum ECalendarMode {\n  Day,\n  DayTime,\n  Month,\n  Time,\n  Year\n}\n","export enum ECalendarValue {\n  Moment = 1,\n  MomentArr,\n  String,\n  StringArr\n}\n","export enum SelectEvent {\n  INPUT = 'input',\n  SELECTION = 'selection'\n}\n","import {Injectable} from '@angular/core';\nimport {TDrops, TOpens} from '../../types/poistions.type';\n\n@Injectable()\nexport class DomHelper {\n\n  private static setYAxisPosition(element: HTMLElement, container: HTMLElement, anchor: HTMLElement, drops: TDrops) {\n    const anchorRect = anchor.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n    const bottom = anchorRect.bottom - containerRect.top;\n    const top = anchorRect.top - containerRect.top;\n\n    if (drops === 'down') {\n      element.style.top = (bottom + 1 + 'px');\n    } else {\n      element.style.top = (top - 1 - element.scrollHeight) + 'px';\n    }\n  }\n\n  private static setXAxisPosition(element: HTMLElement, container: HTMLElement, anchor: HTMLElement, dimElem: HTMLElement, opens: TOpens) {\n    const anchorRect = anchor.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n    const left = anchorRect.left - containerRect.left;\n\n    if (opens === 'right') {\n      element.style.left = left + 'px';\n    } else {\n      element.style.left = left - dimElem.offsetWidth + anchor.offsetWidth + 'px';\n    }\n  }\n\n  private static isTopInView(el: HTMLElement): boolean {\n    const {top} = el.getBoundingClientRect();\n    return (top >= 0);\n  }\n\n  private static isBottomInView(el: HTMLElement): boolean {\n    const {bottom} = el.getBoundingClientRect();\n    return (bottom <= window.innerHeight);\n  }\n\n  private static isLeftInView(el: HTMLElement): boolean {\n    const {left} = el.getBoundingClientRect();\n    return (left >= 0);\n  }\n\n  private static isRightInView(el: HTMLElement): boolean {\n    const {right} = el.getBoundingClientRect();\n    return (right <= window.innerWidth);\n  }\n\n  appendElementToPosition(config: IAppendToArgs): void {\n    const {container, element} = config;\n\n    if (!container.style.position || container.style.position === 'static') {\n      container.style.position = 'relative';\n    }\n\n    if (element.style.position !== 'absolute') {\n      element.style.position = 'absolute';\n    }\n\n    element.style.visibility = 'hidden';\n\n    setTimeout(() => {\n      this.setElementPosition(config);\n\n      element.style.visibility = 'visible';\n    });\n  }\n\n  setElementPosition({element, container, anchor, dimElem, drops, opens}: IAppendToArgs) {\n    DomHelper.setYAxisPosition(element, container, anchor, 'down');\n    DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'right');\n\n    if (drops !== 'down' && drops !== 'up') {\n      if (DomHelper.isBottomInView(dimElem)) {\n        DomHelper.setYAxisPosition(element, container, anchor, 'down');\n      } else if (DomHelper.isTopInView(dimElem)) {\n        DomHelper.setYAxisPosition(element, container, anchor, 'up');\n      }\n    } else {\n      DomHelper.setYAxisPosition(element, container, anchor, drops);\n    }\n\n    if (opens !== 'left' && opens !== 'right') {\n      if (DomHelper.isRightInView(dimElem)) {\n        DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'right');\n      } else if (DomHelper.isLeftInView(dimElem)) {\n        DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'left');\n      }\n    } else {\n      DomHelper.setXAxisPosition(element, container, anchor, dimElem, opens);\n    }\n  }\n}\n\nexport interface IAppendToArgs {\n  container: HTMLElement;\n  element: HTMLElement;\n  anchor: HTMLElement;\n  dimElem: HTMLElement;\n  drops: TDrops;\n  opens: TOpens;\n}\n","import {ECalendarValue} from '../../types/calendar-value-enum';\nimport {SingleCalendarValue} from '../../types/single-calendar-value';\nimport {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment, unitOfTime} from 'moment';\nimport {CalendarValue} from '../../types/calendar-value';\nimport {IDate} from '../../models/date.model';\nimport {CalendarMode} from '../../types/calendar-mode';\nimport {DateValidator} from '../../types/validator.type';\nimport {ICalendarInternal} from '../../models/calendar.model';\n\nconst moment = momentNs;\n\nexport interface DateLimits {\n  minDate?: SingleCalendarValue;\n  maxDate?: SingleCalendarValue;\n  minTime?: SingleCalendarValue;\n  maxTime?: SingleCalendarValue;\n}\n\n@Injectable()\nexport class UtilsService {\n  static debounce(func: Function, wait: number) {\n    let timeout;\n    return function () {\n      const context = this, args = arguments;\n      timeout = clearTimeout(timeout);\n      setTimeout(() => {\n        func.apply(context, args);\n      }, wait);\n    };\n  };\n\n  createArray(size: number): number[] {\n    return new Array(size).fill(1);\n  }\n\n  convertToMoment(date: SingleCalendarValue, format: string): Moment {\n    if (!date) {\n      return null;\n    } else if (typeof date === 'string') {\n      return moment(date, format);\n    } else {\n      return date.clone();\n    }\n  }\n\n  isDateValid(date: string, format: string): boolean {\n    if (date === '') {\n      return true;\n    }\n\n    return moment(date, format, true).isValid();\n  }\n\n  // todo:: add unit test\n  getDefaultDisplayDate(current: Moment,\n                        selected: Moment[],\n                        allowMultiSelect: boolean,\n                        minDate: Moment): Moment {\n    if (current) {\n      return current.clone();\n    } else if (minDate && minDate.isAfter(moment())) {\n      return minDate.clone();\n    } else if (allowMultiSelect) {\n      if (selected && selected[selected.length]) {\n        return selected[selected.length].clone();\n      }\n    } else if (selected && selected[0]) {\n      return selected[0].clone();\n    }\n\n    return moment();\n  }\n\n  // todo:: add unit test\n  getInputType(value: CalendarValue, allowMultiSelect: boolean): ECalendarValue {\n    if (Array.isArray(value)) {\n      if (!value.length) {\n        return ECalendarValue.MomentArr;\n      } else if (typeof value[0] === 'string') {\n        return ECalendarValue.StringArr;\n      } else if (moment.isMoment(value[0])) {\n        return ECalendarValue.MomentArr;\n      }\n    } else {\n      if (typeof value === 'string') {\n        return ECalendarValue.String;\n      } else if (moment.isMoment(value)) {\n        return ECalendarValue.Moment;\n      }\n    }\n\n    return allowMultiSelect ? ECalendarValue.MomentArr : ECalendarValue.Moment;\n  }\n\n  // todo:: add unit test\n  convertToMomentArray(value: CalendarValue, format: string, allowMultiSelect: boolean): Moment[] {\n    switch (this.getInputType(value, allowMultiSelect)) {\n      case (ECalendarValue.String):\n        return value ? [moment(<string>value, format, true)] : [];\n      case (ECalendarValue.StringArr):\n        return (<string[]>value).map(v => v ? moment(v, format, true) : null).filter(Boolean);\n      case (ECalendarValue.Moment):\n        return value ? [(<Moment>value).clone()] : [];\n      case (ECalendarValue.MomentArr):\n        return (<Moment[]>value || []).map(v => v.clone());\n      default:\n        return [];\n    }\n  }\n\n  // todo:: add unit test\n  convertFromMomentArray(format: string,\n                         value: Moment[],\n                         convertTo: ECalendarValue): CalendarValue {\n    switch (convertTo) {\n      case (ECalendarValue.String):\n        return value[0] && value[0].format(format);\n      case (ECalendarValue.StringArr):\n        return value.filter(Boolean).map(v => v.format(format));\n      case (ECalendarValue.Moment):\n        return value[0] ? value[0].clone() : value[0];\n      case (ECalendarValue.MomentArr):\n        return value ? value.map(v => v.clone()) : value;\n      default:\n        return value;\n    }\n  }\n\n  convertToString(value: CalendarValue, format: string): string {\n    let tmpVal: string[];\n\n    if (typeof value === 'string') {\n      tmpVal = [value];\n    } else if (Array.isArray(value)) {\n      if (value.length) {\n        tmpVal = (<SingleCalendarValue[]>value).map((v) => {\n          return this.convertToMoment(v, format).format(format);\n        });\n      } else {\n        tmpVal = <string[]>value;\n      }\n    } else if (moment.isMoment(value)) {\n      tmpVal = [value.format(format)];\n    } else {\n      return '';\n    }\n\n    return tmpVal.filter(Boolean).join(' | ');\n  }\n\n  // todo:: add unit test\n  clearUndefined<T>(obj: T): T {\n    if (!obj) {\n      return obj;\n    }\n\n    Object.keys(obj).forEach((key) => (obj[key] === undefined) && delete obj[key]);\n    return obj;\n  }\n\n  updateSelected(isMultiple: boolean,\n                 currentlySelected: Moment[],\n                 date: IDate,\n                 granularity: unitOfTime.Base = 'day'): Moment[] {\n    if (isMultiple) {\n      return !date.selected\n        ? currentlySelected.concat([date.date])\n        : currentlySelected.filter(d => !d.isSame(date.date, granularity));\n    } else {\n      return !date.selected ? [date.date] : [];\n    }\n  }\n\n  closestParent(element: HTMLElement, selector: string): HTMLElement {\n    if (!element) {\n      return undefined;\n    }\n    const match = <HTMLElement>element.querySelector(selector);\n    return match || this.closestParent(element.parentElement, selector);\n  }\n\n  onlyTime(m: Moment): Moment {\n    return m && moment.isMoment(m) && moment(m.format('HH:mm:ss'), 'HH:mm:ss');\n  }\n\n  granularityFromType(calendarType: CalendarMode): unitOfTime.Base {\n    switch (calendarType) {\n      case 'time':\n        return 'second';\n      case 'daytime':\n        return 'second';\n      default:\n        return calendarType;\n    }\n  }\n\n  createValidator({minDate, maxDate, minTime, maxTime}: DateLimits,\n                  format: string,\n                  calendarType: CalendarMode): DateValidator {\n    let isValid: boolean;\n    let value: Moment[];\n    const validators = [];\n    const granularity = this.granularityFromType(calendarType);\n\n    if (minDate) {\n      const md = this.convertToMoment(minDate, format);\n      validators.push({\n        key: 'minDate',\n        isValid: () => {\n          const _isValid = value.every(val => val.isSameOrAfter(md, granularity));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    if (maxDate) {\n      const md = this.convertToMoment(maxDate, format);\n      validators.push({\n        key: 'maxDate',\n        isValid: () => {\n          const _isValid = value.every(val => val.isSameOrBefore(md, granularity));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    if (minTime) {\n      const md = this.onlyTime(this.convertToMoment(minTime, format));\n      validators.push({\n        key: 'minTime',\n        isValid: () => {\n          const _isValid = value.every(val => this.onlyTime(val).isSameOrAfter(md));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    if (maxTime) {\n      const md = this.onlyTime(this.convertToMoment(maxTime, format));\n      validators.push({\n        key: 'maxTime',\n        isValid: () => {\n          const _isValid = value.every(val => this.onlyTime(val).isSameOrBefore(md));\n          isValid = isValid ? _isValid : false;\n          return _isValid;\n        }\n      });\n    }\n\n    return (inputVal: CalendarValue) => {\n      isValid = true;\n\n      value = this.convertToMomentArray(inputVal, format, true).filter(Boolean);\n\n      if (!value.every(val => val.isValid())) {\n        return {\n          format: {\n            given: inputVal\n          }\n        };\n      }\n\n      const errors = validators.reduce((map, err) => {\n        if (!err.isValid()) {\n          map[err.key] = {\n            given: value\n          };\n        }\n\n        return map;\n      }, {});\n\n      return !isValid ? errors : null;\n    };\n  }\n\n  datesStringToStringArray(value: string): string[] {\n    return (value || '').split('|').map(m => m.trim()).filter(Boolean);\n  }\n\n  getValidMomentArray(value: string, format: string): Moment[] {\n    return this.datesStringToStringArray(value)\n      .filter(d => this.isDateValid(d, format))\n      .map(d => moment(d, format));\n  }\n\n  shouldShowCurrent(showGoToCurrent: boolean,\n                    mode: CalendarMode,\n                    min: Moment,\n                    max: Moment): boolean {\n    return showGoToCurrent &&\n      mode !== 'time' &&\n      this.isDateInRange(moment(), min, max);\n  }\n\n  isDateInRange(date: Moment, from: Moment, to: Moment): boolean {\n    return date.isBetween(from, to, 'day', '[]');\n  }\n\n  convertPropsToMoment(obj: {[key: string]: any}, format: string, props: string[]) {\n    props.forEach((prop) => {\n      if (obj.hasOwnProperty(prop)) {\n        obj[prop] = this.convertToMoment(obj[prop], format);\n      }\n    });\n  }\n\n  shouldResetCurrentView<T extends ICalendarInternal>(prevConf: T, currentConf: T): boolean {\n    if (prevConf && currentConf) {\n      if (!prevConf.min && currentConf.min) {\n        return true;\n      } else if (prevConf.min && currentConf.min && !prevConf.min.isSame(currentConf.min, 'd')) {\n        return true;\n      } else if (!prevConf.max && currentConf.max) {\n        return true;\n      } else if (prevConf.max && currentConf.max && !prevConf.max.isSame(currentConf.max, 'd')) {\n        return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  }\n\n  getNativeElement(elem: HTMLElement | string): HTMLElement {\n    if (!elem) {\n      return null;\n    } else if (typeof elem === 'string') {\n      return <HTMLElement>document.querySelector(elem);\n    } else {\n      return elem;\n    }\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {WeekDays} from '../common/types/week-days.type';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDay} from './day.model';\nimport {IDayCalendarConfig, IDayCalendarConfigInternal} from './day-calendar-config.model';\nimport {IMonthCalendarConfig} from '../month-calendar/month-calendar-config';\n\nconst moment = momentNs;\n\n@Injectable()\nexport class DayCalendarService {\n  private readonly DAYS = ['su', 'mo', 'tu', 'we', 'th', 'fr', 'sa'];\n  readonly DEFAULT_CONFIG: IDayCalendarConfig = {\n    showNearMonthDays: true,\n    showWeekNumbers: false,\n    firstDayOfWeek: 'su',\n    weekDayFormat: 'ddd',\n    format: 'DD-MM-YYYY',\n    allowMultiSelect: false,\n    monthFormat: 'MMM, YYYY',\n    enableMonthSelector: true,\n    locale: moment.locale(),\n    dayBtnFormat: 'DD',\n    unSelectOnClick: true\n  };\n\n  constructor(private utilsService: UtilsService) {\n  }\n\n  private removeNearMonthWeeks(currentMonth: Moment, monthArray: IDay[][]): IDay[][] {\n    if (monthArray[monthArray.length - 1].find((day) => day.date.isSame(currentMonth, 'month'))) {\n      return monthArray;\n    } else {\n      return monthArray.slice(0, -1);\n    }\n  }\n\n  getConfig(config: IDayCalendarConfig): IDayCalendarConfigInternal {\n    const _config = <IDayCalendarConfigInternal>{\n      ...this.DEFAULT_CONFIG,\n      ...this.utilsService.clearUndefined(config)\n    };\n\n    this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  generateDaysMap(firstDayOfWeek: WeekDays) {\n    const firstDayIndex = this.DAYS.indexOf(firstDayOfWeek);\n    const daysArr = this.DAYS.slice(firstDayIndex, 7).concat(this.DAYS.slice(0, firstDayIndex));\n    return daysArr.reduce((map, day, index) => {\n      map[day] = index;\n\n      return map;\n    }, <{[key: string]: number}>{});\n  }\n\n  generateMonthArray(config: IDayCalendarConfigInternal, month: Moment, selected: Moment[]): IDay[][] {\n    let monthArray: IDay[][] = [];\n    const firstDayOfWeekIndex = this.DAYS.indexOf(config.firstDayOfWeek);\n    const firstDayOfBoard = month.clone().startOf('month');\n\n    while (firstDayOfBoard.day() !== firstDayOfWeekIndex) {\n      firstDayOfBoard.subtract(1, 'day');\n    }\n\n    const current = firstDayOfBoard.clone();\n    const prevMonth = month.clone().subtract(1, 'month');\n    const nextMonth = month.clone().add(1, 'month');\n    const today = moment();\n\n    const daysOfCalendar: IDay[] = this.utilsService.createArray(42)\n      .reduce((array: IDay[]) => {\n        array.push({\n          date: current.clone(),\n          selected: !!selected.find(selectedDay => current.isSame(selectedDay, 'day')),\n          currentMonth: current.isSame(month, 'month'),\n          prevMonth: current.isSame(prevMonth, 'month'),\n          nextMonth: current.isSame(nextMonth, 'month'),\n          currentDay: current.isSame(today, 'day'),\n          disabled: this.isDateDisabled(current, config)\n        });\n        current.add(1, 'day');\n\n        return array;\n      }, []);\n\n    daysOfCalendar.forEach((day, index) => {\n      const weekIndex = Math.floor(index / 7);\n\n      if (!monthArray[weekIndex]) {\n        monthArray.push([]);\n      }\n\n      monthArray[weekIndex].push(day);\n    });\n\n    if (!config.showNearMonthDays) {\n      monthArray = this.removeNearMonthWeeks(month, monthArray);\n    }\n\n    return monthArray;\n  }\n\n  generateWeekdays(firstDayOfWeek: WeekDays): Moment[] {\n    const weekdayNames: {[key: string]: Moment} = {\n      su: moment().day(0),\n      mo: moment().day(1),\n      tu: moment().day(2),\n      we: moment().day(3),\n      th: moment().day(4),\n      fr: moment().day(5),\n      sa: moment().day(6)\n    };\n    const weekdays: Moment[] = [];\n    const daysMap = this.generateDaysMap(firstDayOfWeek);\n\n    for (const dayKey in daysMap) {\n      if (daysMap.hasOwnProperty(dayKey)) {\n        weekdays[daysMap[dayKey]] = weekdayNames[dayKey];\n      }\n    }\n\n    return weekdays;\n  }\n\n  isDateDisabled(date: Moment, config: IDayCalendarConfigInternal): boolean {\n    if (config.isDayDisabledCallback) {\n      return config.isDayDisabledCallback(date);\n    }\n\n    if (config.min && date.isBefore(config.min, 'day')) {\n      return true;\n    }\n\n    return !!(config.max && date.isAfter(config.max, 'day'));\n  }\n\n  // todo:: add unit tests\n  getHeaderLabel(config: IDayCalendarConfigInternal, month: Moment): string {\n    if (config.monthFormatter) {\n      return config.monthFormatter(month);\n    }\n\n    return month.format(config.monthFormat);\n  }\n\n  // todo:: add unit tests\n  shouldShowLeft(min: Moment, currentMonthView: Moment): boolean {\n    return min ? min.isBefore(currentMonthView, 'month') : true;\n  }\n\n  // todo:: add unit tests\n  shouldShowRight(max: Moment, currentMonthView: Moment): boolean {\n    return max ? max.isAfter(currentMonthView, 'month') : true;\n  }\n\n  generateDaysIndexMap(firstDayOfWeek: WeekDays) {\n    const firstDayIndex = this.DAYS.indexOf(firstDayOfWeek);\n    const daysArr = this.DAYS.slice(firstDayIndex, 7).concat(this.DAYS.slice(0, firstDayIndex));\n    return daysArr.reduce((map, day, index) => {\n      map[index] = day;\n\n      return map;\n    }, <{[key: number]: string}>{});\n  }\n\n  getMonthCalendarConfig(componentConfig: IDayCalendarConfigInternal): IMonthCalendarConfig {\n    return this.utilsService.clearUndefined({\n      min: componentConfig.min,\n      max: componentConfig.max,\n      format: componentConfig.format,\n      isNavHeaderBtnClickable: true,\n      allowMultiSelect: false,\n      yearFormat: componentConfig.yearFormat,\n      yearFormatter: componentConfig.yearFormatter,\n      monthBtnFormat: componentConfig.monthBtnFormat,\n      monthBtnFormatter: componentConfig.monthBtnFormatter,\n      monthBtnCssClassCallback: componentConfig.monthBtnCssClassCallback,\n      multipleYearsNavigateBy: componentConfig.multipleYearsNavigateBy,\n      showMultipleYearsNavigation: componentConfig.showMultipleYearsNavigation,\n      showGoToCurrent: componentConfig.showGoToCurrent\n    });\n  }\n\n  getDayBtnText(config: IDayCalendarConfigInternal, day: Moment): string {\n    if (config.dayBtnFormatter) {\n      return config.dayBtnFormatter(day);\n    }\n\n    return day.format(config.dayBtnFormat);\n  }\n\n  getDayBtnCssClass(config: IDayCalendarConfigInternal, day: Moment): string {\n    if (config.dayBtnCssClassCallback) {\n      return config.dayBtnCssClassCallback(day);\n    }\n\n    return '';\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {ITimeSelectConfig, ITimeSelectConfigInternal} from './time-select-config.model';\nconst moment = momentNs;\n\nexport type TimeUnit = 'hour' | 'minute' | 'second';\nexport const FIRST_PM_HOUR = 12;\n\n@Injectable()\nexport class TimeSelectService {\n  readonly DEFAULT_CONFIG: ITimeSelectConfigInternal = {\n    hours12Format: 'hh',\n    hours24Format: 'HH',\n    meridiemFormat: 'A',\n    minutesFormat: 'mm',\n    minutesInterval: 1,\n    secondsFormat: 'ss',\n    secondsInterval: 1,\n    showSeconds: false,\n    showTwentyFourHours: false,\n    timeSeparator: ':',\n    locale: moment.locale()\n  };\n\n  constructor(private utilsService: UtilsService) {\n  }\n\n  getConfig(config: ITimeSelectConfig): ITimeSelectConfigInternal {\n    const timeConfigs = {\n      maxTime: this.utilsService.onlyTime(config && config.maxTime),\n      minTime: this.utilsService.onlyTime(config && config.minTime)\n    };\n\n    const _config = <ITimeSelectConfigInternal>{\n      ...this.DEFAULT_CONFIG,\n      ...this.utilsService.clearUndefined(config),\n      ...timeConfigs\n    };\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  getTimeFormat(config: ITimeSelectConfigInternal): string {\n    return (config.showTwentyFourHours ? config.hours24Format : config.hours12Format)\n      + config.timeSeparator + config.minutesFormat\n      + (config.showSeconds ? (config.timeSeparator + config.secondsFormat) : '')\n      + (config.showTwentyFourHours ? '' : ' ' + config.meridiemFormat);\n  }\n\n  getHours(config: ITimeSelectConfigInternal, t: Moment | null): string {\n    const time = t || moment();\n    return time && time.format(config.showTwentyFourHours ? config.hours24Format : config.hours12Format);\n  }\n\n  getMinutes(config: ITimeSelectConfigInternal, t: Moment | null): string {\n    const time = t || moment();\n    return time && time.format(config.minutesFormat);\n  }\n\n  getSeconds(config: ITimeSelectConfigInternal, t: Moment | null): string {\n    const time = t || moment();\n    return time && time.format(config.secondsFormat);\n  }\n\n  getMeridiem(config: ITimeSelectConfigInternal, time: Moment): string {\n    return time && time.format(config.meridiemFormat);\n  }\n\n  decrease(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): Moment {\n    let amount: number = 1;\n    switch (unit) {\n      case 'minute':\n        amount = config.minutesInterval;\n        break;\n      case 'second':\n        amount = config.secondsInterval;\n        break;\n    }\n    return time.clone().subtract(amount, unit);\n  }\n\n  increase(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): Moment {\n    let amount: number = 1;\n    switch (unit) {\n      case 'minute':\n        amount = config.minutesInterval;\n        break;\n      case 'second':\n        amount = config.secondsInterval;\n        break;\n    }\n    return time.clone().add(amount, unit);\n  }\n\n  toggleMeridiem(time: Moment): Moment {\n    if (time.hours() < FIRST_PM_HOUR) {\n      return time.clone().add(12, 'hour');\n    } else {\n      return time.clone().subtract(12, 'hour');\n    }\n  }\n\n  shouldShowDecrease(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): boolean {\n    if (!config.min && !config.minTime) {\n      return true;\n    }\n    ;\n    const newTime = this.decrease(config, time, unit);\n\n    return (!config.min || config.min.isSameOrBefore(newTime))\n      && (!config.minTime || config.minTime.isSameOrBefore(this.utilsService.onlyTime(newTime)));\n  }\n\n  shouldShowIncrease(config: ITimeSelectConfigInternal, time: Moment, unit: TimeUnit): boolean {\n    if (!config.max && !config.maxTime) {\n      return true;\n    }\n    ;\n    const newTime = this.increase(config, time, unit);\n\n    return (!config.max || config.max.isSameOrAfter(newTime))\n      && (!config.maxTime || config.maxTime.isSameOrAfter(this.utilsService.onlyTime(newTime)));\n  }\n\n  shouldShowToggleMeridiem(config: ITimeSelectConfigInternal, time: Moment): boolean {\n    if (!config.min && !config.max && !config.minTime && !config.maxTime) {\n      return true;\n    }\n    const newTime = this.toggleMeridiem(time);\n    return (!config.max || config.max.isSameOrAfter(newTime))\n      && (!config.min || config.min.isSameOrBefore(newTime))\n      && (!config.maxTime || config.maxTime.isSameOrAfter(this.utilsService.onlyTime(newTime)))\n      && (!config.minTime || config.minTime.isSameOrBefore(this.utilsService.onlyTime(newTime)));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\n\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {DayCalendarService} from '../day-calendar/day-calendar.service';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {IDayTimeCalendarConfig} from './day-time-calendar-config.model';\nconst moment = momentNs;\n\nconst DAY_FORMAT = 'YYYYMMDD';\nconst TIME_FORMAT = 'HH:mm:ss';\nconst COMBINED_FORMAT = DAY_FORMAT + TIME_FORMAT;\n\n@Injectable()\nexport class DayTimeCalendarService {\n  readonly DEFAULT_CONFIG: IDayTimeCalendarConfig = {\n    locale: moment.locale()\n  };\n\n  constructor(private utilsService: UtilsService,\n              private dayCalendarService: DayCalendarService,\n              private timeSelectService: TimeSelectService) {\n  }\n\n  getConfig(config: IDayTimeCalendarConfig): IDayTimeCalendarConfig {\n    const _config = {\n      ...this.DEFAULT_CONFIG,\n      ...this.timeSelectService.getConfig(config),\n      ...this.dayCalendarService.getConfig(config)\n    };\n\n    moment.locale(config.locale);\n\n    return _config;\n  }\n\n  updateDay(current: Moment, day: Moment, config: IDayTimeCalendarConfig): Moment {\n    const time = current ? current : moment();\n    let updated = moment(day.format(DAY_FORMAT) + time.format(TIME_FORMAT), COMBINED_FORMAT)\n\n    if (config.min) {\n      const min = <Moment>config.min;\n      updated = min.isAfter(updated) ? min : updated;\n    }\n\n    if (config.max) {\n      const max = <Moment>config.max;\n      updated = max.isBefore(updated) ? max : updated;\n    }\n\n    return updated;\n  }\n\n  updateTime(current: Moment, time: Moment): Moment {\n    const day = current ? current : moment();\n\n    return moment(day.format(DAY_FORMAT) + time.format(TIME_FORMAT), COMBINED_FORMAT);\n  }\n}\n","import {EventEmitter, Injectable} from '@angular/core';\nimport {IDatePickerConfig, IDatePickerConfigInternal} from './date-picker-config.model';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDayCalendarConfig} from '../day-calendar/day-calendar-config.model';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {DayTimeCalendarService} from '../day-time-calendar/day-time-calendar.service';\nimport {ITimeSelectConfig} from '../time-select/time-select-config.model';\nimport {CalendarMode} from '../common/types/calendar-mode';\nimport {CalendarValue} from '../common/types/calendar-value';\nconst moment = momentNs;\n\n@Injectable()\nexport class DatePickerService {\n  readonly onPickerClosed: EventEmitter<null> = new EventEmitter();\n  private defaultConfig: IDatePickerConfigInternal = {\n    closeOnSelect: true,\n    closeOnSelectDelay: 100,\n    format: 'DD-MM-YYYY',\n    openOnFocus: true,\n    openOnClick: true,\n    onOpenDelay: 0,\n    disableKeypress: false,\n    showNearMonthDays: true,\n    showWeekNumbers: false,\n    enableMonthSelector: true,\n    showGoToCurrent: true,\n    locale: moment.locale(),\n    hideOnOutsideClick: true\n  };\n\n  constructor(private utilsService: UtilsService,\n              private timeSelectService: TimeSelectService,\n              private daytimeCalendarService: DayTimeCalendarService) {\n  }\n\n  // todo:: add unit tests\n  getConfig(config: IDatePickerConfig, mode: CalendarMode = 'daytime'): IDatePickerConfigInternal {\n    const _config = <IDatePickerConfigInternal>{\n      ...this.defaultConfig,\n      format: this.getDefaultFormatByMode(mode),\n      ...this.utilsService.clearUndefined(config)\n    };\n\n    this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);\n\n    if (config && config.allowMultiSelect && config.closeOnSelect === undefined) {\n      _config.closeOnSelect = false;\n    }\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  getDayConfigService(pickerConfig: IDatePickerConfig): IDayCalendarConfig {\n    return {\n      min: pickerConfig.min,\n      max: pickerConfig.max,\n      isDayDisabledCallback: pickerConfig.isDayDisabledCallback,\n      weekDayFormat: pickerConfig.weekDayFormat,\n      showNearMonthDays: pickerConfig.showNearMonthDays,\n      showWeekNumbers: pickerConfig.showWeekNumbers,\n      firstDayOfWeek: pickerConfig.firstDayOfWeek,\n      format: pickerConfig.format,\n      allowMultiSelect: pickerConfig.allowMultiSelect,\n      monthFormat: pickerConfig.monthFormat,\n      monthFormatter: pickerConfig.monthFormatter,\n      enableMonthSelector: pickerConfig.enableMonthSelector,\n      yearFormat: pickerConfig.yearFormat,\n      yearFormatter: pickerConfig.yearFormatter,\n      dayBtnFormat: pickerConfig.dayBtnFormat,\n      dayBtnFormatter: pickerConfig.dayBtnFormatter,\n      dayBtnCssClassCallback: pickerConfig.dayBtnCssClassCallback,\n      monthBtnFormat: pickerConfig.monthBtnFormat,\n      monthBtnFormatter: pickerConfig.monthBtnFormatter,\n      monthBtnCssClassCallback: pickerConfig.monthBtnCssClassCallback,\n      multipleYearsNavigateBy: pickerConfig.multipleYearsNavigateBy,\n      showMultipleYearsNavigation: pickerConfig.showMultipleYearsNavigation,\n      locale: pickerConfig.locale,\n      returnedValueType: pickerConfig.returnedValueType,\n      showGoToCurrent: pickerConfig.showGoToCurrent,\n      unSelectOnClick: pickerConfig.unSelectOnClick\n    };\n  }\n\n  getDayTimeConfigService(pickerConfig: IDatePickerConfig): ITimeSelectConfig {\n    return this.daytimeCalendarService.getConfig(pickerConfig);\n  }\n\n  getTimeConfigService(pickerConfig: IDatePickerConfig): ITimeSelectConfig {\n    return this.timeSelectService.getConfig(pickerConfig);\n  }\n\n  pickerClosed() {\n    this.onPickerClosed.emit();\n  }\n\n  // todo:: add unit tests\n  isValidInputDateValue(value: string, config: IDatePickerConfig): boolean {\n    value = value ? value : '';\n    const datesStrArr: string[] = this.utilsService.datesStringToStringArray(value);\n\n    return datesStrArr.every(date => this.utilsService.isDateValid(date, config.format));\n  }\n\n  // todo:: add unit tests\n  convertInputValueToMomentArray(value: string, config: IDatePickerConfig): Moment[] {\n    value = value ? value : '';\n    const datesStrArr: string[] = this.utilsService.datesStringToStringArray(value);\n\n    return this.utilsService.convertToMomentArray(datesStrArr, config.format, config.allowMultiSelect);\n  }\n\n  private getDefaultFormatByMode(mode: CalendarMode): string {\n    switch (mode) {\n      case 'day':\n        return 'DD-MM-YYYY';\n      case 'daytime':\n        return 'DD-MM-YYYY HH:mm:ss';\n      case 'time':\n        return 'HH:mm:ss';\n      case 'month':\n        return 'MMM, YYYY';\n    }\n  }\n}\n","import {IDate} from '../common/models/date.model';\nimport {DomHelper} from '../common/services/dom-appender/dom-appender.service';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {CalendarMode} from '../common/types/calendar-mode';\nimport {ECalendarMode} from '../common/types/calendar-mode-enum';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {IDayCalendarConfig} from '../day-calendar/day-calendar-config.model';\nimport {DayCalendarComponent} from '../day-calendar/day-calendar.component';\nimport {DayCalendarService} from '../day-calendar/day-calendar.service';\nimport {IDayTimeCalendarConfig} from '../day-time-calendar/day-time-calendar-config.model';\nimport {DayTimeCalendarService} from '../day-time-calendar/day-time-calendar.service';\nimport {ITimeSelectConfig} from '../time-select/time-select-config.model';\nimport {TimeSelectComponent} from '../time-select/time-select.component';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {IDatePickerConfig, IDatePickerConfigInternal} from './date-picker-config.model';\nimport {IDpDayPickerApi} from './date-picker.api';\nimport {DatePickerService} from './date-picker.service';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  HostListener,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {Moment, unitOfTime} from 'moment';\nimport {DateValidator} from '../common/types/validator.type';\nimport {MonthCalendarComponent} from '../month-calendar/month-calendar.component';\nimport {YearCalendarComponent} from '../year-calendar/year-calendar.component';\nimport {DayTimeCalendarComponent} from '../day-time-calendar/day-time-calendar.component';\nimport {INavEvent} from '../common/models/navigation-event.model';\nimport {SelectEvent} from '../common/types/selection-evet.enum.';\nimport {ISelectionEvent} from '../common/types/selection-evet.model';\n\n@Component({\n  selector: 'dp-date-picker',\n  templateUrl: 'date-picker.component.html',\n  styleUrls: ['date-picker.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    DatePickerService,\n    DayTimeCalendarService,\n    DayCalendarService,\n    TimeSelectService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatePickerComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DatePickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class DatePickerComponent implements OnChanges,\n                                            OnInit,\n                                            AfterViewInit,\n                                            ControlValueAccessor,\n                                            Validator,\n                                            OnDestroy {\n  isInitialized: boolean = false;\n  @Input() config: IDatePickerConfig;\n  @Input() mode: CalendarMode = 'day';\n  @Input() placeholder: string = '';\n  @Input() disabled: boolean = false;\n  @Input() displayDate: SingleCalendarValue;\n  @HostBinding('class') @Input() theme: string;\n  @Input() minDate: SingleCalendarValue;\n  @Input() maxDate: SingleCalendarValue;\n  @Input() minTime: SingleCalendarValue;\n  @Input() maxTime: SingleCalendarValue;\n\n  @Output() open = new EventEmitter<void>();\n  @Output() close = new EventEmitter<void>();\n  @Output() onChange = new EventEmitter<CalendarValue>();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onSelect: EventEmitter<ISelectionEvent> = new EventEmitter();\n\n  @ViewChild('container') calendarContainer: ElementRef;\n  @ViewChild('dayCalendar') dayCalendarRef: DayCalendarComponent;\n  @ViewChild('monthCalendar') monthCalendarRef: MonthCalendarComponent;\n  @ViewChild('yearCalendar') yearCalendarRef: YearCalendarComponent;\n  @ViewChild('daytimeCalendar') dayTimeCalendarRef: DayTimeCalendarComponent;\n  @ViewChild('timeSelect') timeSelectRef: TimeSelectComponent;\n\n  componentConfig: IDatePickerConfigInternal;\n  dayCalendarConfig: IDayCalendarConfig;\n  dayTimeCalendarConfig: IDayTimeCalendarConfig;\n  timeSelectConfig: ITimeSelectConfig;\n  _areCalendarsShown: boolean = false;\n  hideStateHelper: boolean = false;\n  _selected: Moment[] = [];\n  inputValue: CalendarValue;\n  isFocusedTrigger: boolean = false;\n  _currentDateView: Moment;\n  inputElementValue: string;\n  calendarWrapper: HTMLElement;\n  appendToElement: HTMLElement;\n  inputElementContainer: HTMLElement;\n  popupElem: HTMLElement;\n  handleInnerElementClickUnlisteners: Function[] = [];\n  globalListenersUnlisteners: Function[] = [];\n  validateFn: DateValidator;\n  api: IDpDayPickerApi = {\n    open: this.showCalendars.bind(this),\n    close: this.hideCalendar.bind(this),\n    moveCalendarTo: this.moveCalendarTo.bind(this)\n  };\n  selectEvent = SelectEvent;\n\n  set selected(selected: Moment[]) {\n    this._selected = selected;\n    this.inputElementValue = (<string[]>this.utilsService\n                                            .convertFromMomentArray(this.componentConfig.format, selected, ECalendarValue.StringArr))\n      .join(' | ');\n    const val = this.processOnChangeCallback(selected);\n    this.onChangeCallback(val, false);\n    this.onChange.emit(val);\n  }\n\n  get selected(): Moment[] {\n    return this._selected;\n  }\n\n  get areCalendarsShown(): boolean {\n    return this._areCalendarsShown;\n  }\n\n  get openOnFocus(): boolean {\n    return this.componentConfig.openOnFocus;\n  }\n\n  get openOnClick(): boolean {\n    return this.componentConfig.openOnClick;\n  }\n\n  set areCalendarsShown(value: boolean) {\n    if (value) {\n      this.startGlobalListeners();\n      this.domHelper.appendElementToPosition({\n        container: this.appendToElement,\n        element: this.calendarWrapper,\n        anchor: this.inputElementContainer,\n        dimElem: this.popupElem,\n        drops: this.componentConfig.drops,\n        opens: this.componentConfig.opens\n      });\n    } else {\n      this.stopGlobalListeners();\n      this.dayPickerService.pickerClosed();\n    }\n\n    this._areCalendarsShown = value;\n  }\n\n  get currentDateView(): Moment {\n    return this._currentDateView;\n  }\n\n  set currentDateView(date: Moment) {\n    this._currentDateView = date;\n\n    if (this.dayCalendarRef) {\n      this.dayCalendarRef.moveCalendarTo(date);\n    }\n\n    if (this.monthCalendarRef) {\n      this.monthCalendarRef.moveCalendarTo(date);\n    }\n\n    if (this.dayTimeCalendarRef) {\n      this.dayTimeCalendarRef.moveCalendarTo(date);\n    }\n  }\n\n  constructor(private readonly dayPickerService: DatePickerService,\n              private readonly domHelper: DomHelper,\n              private readonly elemRef: ElementRef,\n              private readonly renderer: Renderer,\n              private readonly utilsService: UtilsService,\n              public readonly cd: ChangeDetectorRef) {\n  }\n\n  @HostListener('click')\n  onClick() {\n    if (!this.openOnClick) {\n      return;\n    }\n\n    if (!this.isFocusedTrigger && !this.disabled) {\n      this.hideStateHelper = true;\n      if (!this.areCalendarsShown) {\n        this.showCalendars();\n      }\n    }\n  }\n\n  onBodyClick() {\n    if (this.componentConfig.hideOnOutsideClick) {\n      if (!this.hideStateHelper && this.areCalendarsShown) {\n        this.hideCalendar();\n      }\n\n      this.hideStateHelper = false;\n    }\n  }\n\n  @HostListener('window:resize')\n  onScroll() {\n    if (this.areCalendarsShown) {\n      this.domHelper.setElementPosition({\n        container: this.appendToElement,\n        element: this.calendarWrapper,\n        anchor: this.inputElementContainer,\n        dimElem: this.popupElem,\n        drops: this.componentConfig.drops,\n        opens: this.componentConfig.opens\n      });\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value || value === '') {\n      this.selected = this.utilsService\n                          .convertToMomentArray(value, this.componentConfig.format, this.componentConfig.allowMultiSelect);\n      this.init();\n    } else {\n      this.selected = [];\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any, changedByInput: boolean) {\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouchedCallback = fn;\n  }\n\n  onTouchedCallback() {\n\n  }\n\n  validate(formControl: FormControl): ValidationErrors {\n    return this.validateFn(formControl.value);\n  }\n\n  processOnChangeCallback(selected: Moment[] | string): CalendarValue {\n    if (typeof selected === 'string') {\n      return selected;\n    } else {\n      return this.utilsService.convertFromMomentArray(\n        this.componentConfig.format,\n        selected,\n        this.componentConfig.returnedValueType || this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect)\n      );\n    }\n  }\n\n  initValidators(): void {\n    this.validateFn = this.utilsService.createValidator(\n      {\n        minDate: this.minDate,\n        maxDate: this.maxDate,\n        minTime: this.minTime,\n        maxTime: this.maxTime\n      }, this.componentConfig.format, this.mode);\n    this.onChangeCallback(this.processOnChangeCallback(this.selected), false);\n  }\n\n  ngOnInit(): void {\n    this.isInitialized = true;\n    this.init();\n    this.initValidators();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.isInitialized) {\n      const {minDate, maxDate, minTime, maxTime} = changes;\n\n      this.init();\n\n      if (minDate || maxDate || minTime || maxTime) {\n        this.initValidators();\n      }\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.setElementPositionInDom();\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  setElementPositionInDom(): void {\n    this.calendarWrapper = <HTMLElement> this.calendarContainer.nativeElement;\n    this.setInputElementContainer();\n    this.popupElem = this.elemRef.nativeElement.querySelector('.dp-popup');\n    this.handleInnerElementClick(this.popupElem);\n\n    const {appendTo} = this.componentConfig;\n    if (appendTo) {\n      if (typeof appendTo === 'string') {\n        this.appendToElement = <HTMLElement>document.querySelector(<string>appendTo);\n      } else {\n        this.appendToElement = <HTMLElement>appendTo;\n      }\n    } else {\n      this.appendToElement = this.elemRef.nativeElement;\n    }\n\n    this.appendToElement.appendChild(this.calendarWrapper);\n  }\n\n  setInputElementContainer() {\n    this.inputElementContainer = this.utilsService.getNativeElement(this.componentConfig.inputElementContainer)\n      || this.elemRef.nativeElement.querySelector('.dp-input-container')\n      || document.body;\n  }\n\n  handleInnerElementClick(element: HTMLElement) {\n    this.handleInnerElementClickUnlisteners.push(\n      this.renderer.listen(element, 'click', () => {\n        this.hideStateHelper = true;\n      })\n    );\n  }\n\n  init() {\n    this.componentConfig = this.dayPickerService.getConfig(this.config, this.mode);\n    this.currentDateView = this.displayDate\n      ? this.utilsService.convertToMoment(this.displayDate, this.componentConfig.format).clone()\n      : this.utilsService\n            .getDefaultDisplayDate(\n              this.currentDateView,\n              this.selected,\n              this.componentConfig.allowMultiSelect,\n              this.componentConfig.min\n            );\n    this.dayCalendarConfig = this.dayPickerService.getDayConfigService(this.componentConfig);\n    this.dayTimeCalendarConfig = this.dayPickerService.getDayTimeConfigService(this.componentConfig);\n    this.timeSelectConfig = this.dayPickerService.getTimeConfigService(this.componentConfig);\n  }\n\n  inputFocused() {\n    if (!this.openOnFocus) {\n      return;\n    }\n\n    this.isFocusedTrigger = true;\n    setTimeout(() => {\n      if (!this.areCalendarsShown) {\n        this.showCalendars();\n      }\n\n      this.hideStateHelper = false;\n\n      this.isFocusedTrigger = false;\n      this.cd.markForCheck();\n    }, this.componentConfig.onOpenDelay);\n  }\n\n  inputBlurred() {\n    this.onTouchedCallback();\n  }\n\n  showCalendars() {\n    this.hideStateHelper = true;\n    this.areCalendarsShown = true;\n\n    if (this.timeSelectRef) {\n      this.timeSelectRef.api.triggerChange();\n    }\n\n    this.open.emit();\n    this.cd.markForCheck();\n  }\n\n  hideCalendar() {\n    this.areCalendarsShown = false;\n\n    if (this.dayCalendarRef) {\n      this.dayCalendarRef.api.toggleCalendarMode(ECalendarMode.Day);\n    }\n\n    this.close.emit();\n    this.cd.markForCheck();\n  }\n\n  onViewDateChange(value: CalendarValue) {\n    const strVal = value ? this.utilsService.convertToString(value, this.componentConfig.format) : '';\n    if (this.dayPickerService.isValidInputDateValue(strVal, this.componentConfig)) {\n      this.selected = this.dayPickerService.convertInputValueToMomentArray(strVal, this.componentConfig);\n      this.currentDateView = this.selected.length\n        ? this.utilsService.getDefaultDisplayDate(\n          null,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        )\n        : this.currentDateView;\n\n      this.onSelect.emit({\n        date: strVal,\n        type: SelectEvent.INPUT,\n        granularity: null\n      })\n    } else {\n      this._selected = this.utilsService\n                           .getValidMomentArray(strVal, this.componentConfig.format);\n      this.onChangeCallback(this.processOnChangeCallback(strVal), true);\n    }\n  }\n\n  dateSelected(date: IDate, granularity: unitOfTime.Base, type: SelectEvent, ignoreClose?: boolean) {\n    this.selected = this.utilsService\n                        .updateSelected(this.componentConfig.allowMultiSelect, this.selected, date, granularity);\n    if (!ignoreClose) {\n      this.onDateClick();\n    }\n\n    this.onSelect.emit({\n      date: date.date,\n      granularity,\n      type\n    });\n  }\n\n  onDateClick() {\n    if (this.componentConfig.closeOnSelect) {\n      setTimeout(this.hideCalendar.bind(this), this.componentConfig.closeOnSelectDelay);\n    }\n  }\n\n  onKeyPress(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case (9):\n      case (27):\n        this.hideCalendar();\n        break;\n    }\n  }\n\n  moveCalendarTo(date: SingleCalendarValue) {\n    const momentDate = this.utilsService.convertToMoment(date, this.componentConfig.format);\n    this.currentDateView = momentDate;\n  }\n\n  onLeftNavClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  onRightNavClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n\n  startGlobalListeners() {\n    this.globalListenersUnlisteners.push(\n      this.renderer.listen(document, 'keydown', (e: KeyboardEvent) => {\n        this.onKeyPress(e);\n      }),\n      this.renderer.listen(document, 'scroll', () => {\n        this.onScroll();\n      }),\n      this.renderer.listen(document, 'click', () => {\n        this.onBodyClick();\n      })\n    );\n  }\n\n  stopGlobalListeners() {\n    this.globalListenersUnlisteners.forEach((ul) => ul());\n    this.globalListenersUnlisteners = [];\n  }\n\n  ngOnDestroy() {\n    this.handleInnerElementClickUnlisteners.forEach(ul => ul());\n\n    if (this.appendToElement) {\n      this.appendToElement.removeChild(this.calendarWrapper);\n    }\n  }\n}\n","import {UtilsService} from '../common/services/utils/utils.service';\nimport {IDatePickerDirectiveConfig} from './date-picker-directive-config.model';\nimport {ElementRef, Injectable} from '@angular/core';\n\n@Injectable()\nexport class DatePickerDirectiveService {\n  constructor(public utilsService: UtilsService) {\n  }\n\n  convertToHTMLElement(attachTo: ElementRef | string, baseElement: HTMLElement): HTMLElement {\n    if (typeof attachTo === 'string') {\n      return this.utilsService.closestParent(baseElement, attachTo);\n    } else if (attachTo) {\n      return attachTo.nativeElement;\n    }\n\n    return undefined;\n  }\n\n  getConfig(config: IDatePickerDirectiveConfig = {},\n            baseElement?: ElementRef,\n            attachTo?: ElementRef | string): IDatePickerDirectiveConfig {\n    const _config: IDatePickerDirectiveConfig = {...config};\n    _config.hideInputContainer = true;\n\n    let native;\n\n    if (config.inputElementContainer) {\n      native = this.utilsService.getNativeElement(config.inputElementContainer);\n    } else {\n      native = baseElement ? baseElement.nativeElement : null;\n    }\n\n    if (native) {\n      _config.inputElementContainer = attachTo\n        ? this.convertToHTMLElement(attachTo, native)\n        : native;\n    }\n\n    return _config;\n  }\n}\n","import {CalendarMode} from '../common/types/calendar-mode';\nimport {IDatePickerDirectiveConfig} from './date-picker-directive-config.model';\nimport {DatePickerDirectiveService} from './date-picker-directive.service';\nimport {IDpDayPickerApi} from './date-picker.api';\nimport {DatePickerComponent} from './date-picker.component';\nimport {\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnInit,\n  Optional,\n  Output,\n  ViewContainerRef\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {INavEvent} from '../common/models/navigation-event.model';\nimport {UtilsService} from '../common/services/utils/utils.service'\nimport {ISelectionEvent} from '../common/types/selection-evet.model';\n\n@Directive({\n  exportAs: 'dpDayPicker',\n  providers: [DatePickerDirectiveService],\n  selector: '[dpDayPicker]'\n})\nexport class DatePickerDirective implements OnInit {\n  private _config: IDatePickerDirectiveConfig;\n  private _attachTo: ElementRef | string;\n  private _theme: string;\n  private _mode: CalendarMode = 'day';\n  private _minDate: SingleCalendarValue;\n  private _maxDate: SingleCalendarValue;\n  private _minTime: SingleCalendarValue;\n  private _maxTime: SingleCalendarValue;\n  private _displayDate: SingleCalendarValue;\n\n  get config(): IDatePickerDirectiveConfig {\n    return this._config;\n  }\n\n  @Input('dpDayPicker') set config(config: IDatePickerDirectiveConfig) {\n    this._config = this.service.getConfig(config, this.viewContainerRef.element, this.attachTo);\n    this.updateDatepickerConfig();\n    this.markForCheck();\n  }\n\n  get attachTo(): ElementRef | string {\n    return this._attachTo;\n  }\n\n  @Input() set attachTo(attachTo: ElementRef | string) {\n    this._attachTo = attachTo;\n    this._config = this.service.getConfig(this.config, this.viewContainerRef.element, this.attachTo);\n    this.updateDatepickerConfig();\n    this.markForCheck();\n  }\n\n  get theme(): string {\n    return this._theme;\n  }\n\n  @Input() set theme(theme: string) {\n    this._theme = theme;\n    if (this.datePicker) {\n      this.datePicker.theme = theme;\n    }\n\n    this.markForCheck();\n  }\n\n  get mode(): CalendarMode {\n    return this._mode;\n  }\n\n  @Input() set mode(mode: CalendarMode) {\n    this._mode = mode;\n    if (this.datePicker) {\n      this.datePicker.mode = mode;\n    }\n\n    this.markForCheck();\n  }\n\n  @Input() set minDate(minDate: SingleCalendarValue) {\n    this._minDate = minDate;\n    if (this.datePicker) {\n      this.datePicker.minDate = minDate;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  get minDate(): SingleCalendarValue {\n    return this._minDate;\n  }\n\n  @Input() set maxDate(maxDate: SingleCalendarValue) {\n    this._maxDate = maxDate;\n    if (this.datePicker) {\n      this.datePicker.maxDate = maxDate;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  get maxDate(): SingleCalendarValue {\n    return this._maxDate;\n  }\n\n  @Input() set minTime(minTime: SingleCalendarValue) {\n    this._minTime = minTime;\n    if (this.datePicker) {\n      this.datePicker.minTime = minTime;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  get minTime(): SingleCalendarValue {\n    return this._minTime;\n  }\n\n  @Input() set maxTime(maxTime: SingleCalendarValue) {\n    this._maxTime = maxTime;\n    if (this.datePicker) {\n      this.datePicker.maxTime = maxTime;\n      this.datePicker.ngOnInit();\n    }\n\n    this.markForCheck();\n  }\n\n  get maxTime(): SingleCalendarValue {\n    return this._maxTime;\n  }\n\n  get displayDate(): SingleCalendarValue {\n    return this._displayDate;\n  }\n\n  @Input() set displayDate(displayDate: SingleCalendarValue) {\n    this._displayDate = displayDate;\n    this.updateDatepickerConfig();\n\n    this.markForCheck();\n  }\n\n  @Output() open = new EventEmitter<void>();\n  @Output() close = new EventEmitter<void>();\n  @Output() onChange = new EventEmitter<CalendarValue>();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onSelect: EventEmitter<ISelectionEvent> = new EventEmitter();\n\n  public datePicker: DatePickerComponent;\n  public api: IDpDayPickerApi;\n\n  constructor(public viewContainerRef: ViewContainerRef,\n              public elemRef: ElementRef,\n              public componentFactoryResolver: ComponentFactoryResolver,\n              public service: DatePickerDirectiveService,\n              @Optional() public formControl: NgControl,\n              public utilsService: UtilsService) {\n  }\n\n  ngOnInit(): void {\n    this.datePicker = this.createDatePicker();\n    this.api = this.datePicker.api;\n    this.updateDatepickerConfig();\n    this.attachModelToDatePicker();\n    this.datePicker.theme = this.theme;\n  }\n\n  createDatePicker(): DatePickerComponent {\n    const factory = this.componentFactoryResolver.resolveComponentFactory(DatePickerComponent);\n    return this.viewContainerRef.createComponent(factory).instance;\n  }\n\n  attachModelToDatePicker() {\n    if (!this.formControl) {\n      return;\n    }\n\n    this.datePicker.onViewDateChange(this.formControl.value);\n\n    this.formControl.valueChanges.subscribe((value) => {\n      if (value !== this.datePicker.inputElementValue) {\n        const strVal = this.utilsService.convertToString(value, this.datePicker.componentConfig.format);\n        this.datePicker.onViewDateChange(strVal);\n      }\n    });\n\n    let setup = true;\n\n    this.datePicker.registerOnChange((value, changedByInput) => {\n      if (value) {\n        const isMultiselectEmpty = setup && Array.isArray(value) && !value.length;\n\n        if (!isMultiselectEmpty && !changedByInput) {\n          this.formControl.control.setValue(this.datePicker.inputElementValue);\n        }\n      }\n\n      const errors = this.datePicker.validateFn(value);\n\n      if (!setup) {\n        this.formControl.control.markAsDirty({\n          onlySelf: true\n        });\n      } else {\n        setup = false;\n      }\n\n      if (errors) {\n        if (errors.hasOwnProperty('format')) {\n          const {given} = errors['format'];\n          this.datePicker.inputElementValue = given;\n          if (!changedByInput) {\n            this.formControl.control.setValue(given);\n          }\n        }\n\n        this.formControl.control.setErrors(errors);\n      }\n    });\n  }\n\n  @HostListener('click')\n  onClick() {\n    this.datePicker.onClick();\n  }\n\n  @HostListener('focus')\n  onFocus() {\n    this.datePicker.inputFocused();\n  }\n\n  private updateDatepickerConfig() {\n    if (this.datePicker) {\n      this.datePicker.minDate = this.minDate;\n      this.datePicker.maxDate = this.maxDate;\n      this.datePicker.minTime = this.minTime;\n      this.datePicker.maxTime = this.maxTime;\n      this.datePicker.mode = this.mode || 'day';\n      this.datePicker.displayDate = this.displayDate;\n      this.datePicker.config = this.config;\n      this.datePicker.open = this.open;\n      this.datePicker.close = this.close;\n      this.datePicker.onChange = this.onChange;\n      this.datePicker.onGoToCurrent = this.onGoToCurrent;\n      this.datePicker.onLeftNav = this.onLeftNav;\n      this.datePicker.onRightNav = this.onRightNav;\n      this.datePicker.onSelect = this.onSelect;\n\n      this.datePicker.init();\n\n      if (this.datePicker.componentConfig.disableKeypress) {\n        this.elemRef.nativeElement.setAttribute('readonly', true);\n      } else {\n        this.elemRef.nativeElement.removeAttribute('readonly');\n      }\n    }\n  }\n\n  markForCheck() {\n    if (this.datePicker) {\n      this.datePicker.cd.markForCheck();\n    }\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {ECalendarMode} from '../common/types/calendar-mode-enum';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport {DayCalendarService} from './day-calendar.service';\nimport * as momentNs from 'moment';\nimport {Moment, unitOfTime} from 'moment';\nimport {IDayCalendarConfig, IDayCalendarConfigInternal} from './day-calendar-config.model';\nimport {IDay} from './day.model';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IMonthCalendarConfig} from '../month-calendar/month-calendar-config';\nimport {IMonth} from '../month-calendar/month.model';\nimport {DateValidator} from '../common/types/validator.type';\nimport {INavEvent} from '../common/models/navigation-event.model';\nconst moment = momentNs;\n\n@Component({\n  selector: 'dp-day-calendar',\n  templateUrl: 'day-calendar.component.html',\n  styleUrls: ['day-calendar.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    DayCalendarService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DayCalendarComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DayCalendarComponent),\n      multi: true\n    }\n  ]\n})\nexport class DayCalendarComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() config: IDayCalendarConfig;\n  @Input() displayDate: SingleCalendarValue;\n  @Input() minDate: Moment;\n  @Input() maxDate: Moment;\n  @HostBinding('class') @Input() theme: string;\n\n  @Output() onSelect: EventEmitter<IDay> = new EventEmitter();\n  @Output() onMonthSelect: EventEmitter<IMonth> = new EventEmitter();\n  @Output() onNavHeaderBtnClick: EventEmitter<ECalendarMode> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n\n  CalendarMode = ECalendarMode;\n  isInited: boolean = false;\n  componentConfig: IDayCalendarConfigInternal;\n  _selected: Moment[];\n  weeks: IDay[][];\n  weekdays: Moment[];\n  _currentDateView: Moment;\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n  currentCalendarMode: ECalendarMode = ECalendarMode.Day;\n  monthCalendarConfig: IMonthCalendarConfig;\n  _shouldShowCurrent: boolean = true;\n  navLabel: string;\n  showLeftNav: boolean;\n  showRightNav: boolean;\n\n  api = {\n    moveCalendarsBy: this.moveCalendarsBy.bind(this),\n    moveCalendarTo: this.moveCalendarTo.bind(this),\n    toggleCalendarMode: this.toggleCalendarMode.bind(this)\n  };\n\n  set selected(selected: Moment[]) {\n    this._selected = selected;\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  get selected(): Moment[] {\n    return this._selected;\n  }\n\n  set currentDateView(current: Moment) {\n    this._currentDateView = current.clone();\n    this.weeks = this.dayCalendarService\n      .generateMonthArray(this.componentConfig, this._currentDateView, this.selected);\n    this.navLabel = this.dayCalendarService.getHeaderLabel(this.componentConfig, this._currentDateView);\n    this.showLeftNav = this.dayCalendarService.shouldShowLeft(this.componentConfig.min, this.currentDateView);\n    this.showRightNav = this.dayCalendarService.shouldShowRight(this.componentConfig.max, this.currentDateView);\n  }\n\n  get currentDateView(): Moment {\n    return this._currentDateView;\n  }\n\n  constructor(public readonly dayCalendarService: DayCalendarService,\n              public readonly utilsService: UtilsService,\n              public readonly cd: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  init() {\n    this.componentConfig = this.dayCalendarService.getConfig(this.config);\n    this.selected = this.selected || [];\n    this.currentDateView = this.displayDate\n      ? this.utilsService.convertToMoment(this.displayDate, this.componentConfig.format).clone()\n      : this.utilsService\n        .getDefaultDisplayDate(\n          this.currentDateView,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        );\n    this.weekdays = this.dayCalendarService\n      .generateWeekdays(this.componentConfig.firstDayOfWeek);\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    this.monthCalendarConfig = this.dayCalendarService.getMonthCalendarConfig(this.componentConfig);\n    this._shouldShowCurrent = this.shouldShowCurrent();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate, config} = changes;\n\n      this.handleConfigChange(config);\n      this.init();\n\n      if (minDate || maxDate) {\n        this.initValidators();\n      }\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, this.componentConfig.format, this.componentConfig.allowMultiSelect);\n      this.inputValueType = this.utilsService\n        .getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    } else {\n      this.selected = [];\n    }\n\n    this.weeks = this.dayCalendarService\n      .generateMonthArray(this.componentConfig, this.currentDateView, this.selected);\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  };\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment[]): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.componentConfig.format,\n      value,\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.utilsService.createValidator(\n      {minDate: this.minDate, maxDate: this.maxDate},\n      this.componentConfig.format,\n      'day'\n    );\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  dayClicked(day: IDay) {\n    if (day.selected && !this.componentConfig.unSelectOnClick) {\n      return;\n    }\n\n    this.selected = this.utilsService\n      .updateSelected(this.componentConfig.allowMultiSelect, this.selected, day);\n    this.weeks = this.dayCalendarService\n      .generateMonthArray(this.componentConfig, this.currentDateView, this.selected);\n    this.onSelect.emit(day);\n  }\n\n  getDayBtnText(day: IDay): string {\n    return this.dayCalendarService.getDayBtnText(this.componentConfig, day.date);\n  }\n\n  getDayBtnCssClass(day: IDay): {[klass: string]: boolean} {\n    const cssClasses: {[klass: string]: boolean} = {\n      'dp-selected': day.selected,\n      'dp-current-month': day.currentMonth,\n      'dp-prev-month': day.prevMonth,\n      'dp-next-month': day.nextMonth,\n      'dp-current-day': day.currentDay\n    };\n    const customCssClass: string = this.dayCalendarService.getDayBtnCssClass(this.componentConfig, day.date);\n    if (customCssClass) {\n      cssClasses[customCssClass] = true;\n    }\n\n    return cssClasses;\n  }\n\n  onLeftNavClick() {\n    const from = this.currentDateView.clone();\n    this.moveCalendarsBy(this.currentDateView, -1, 'month');\n    const to = this.currentDateView.clone();\n    this.onLeftNav.emit({from, to});\n  }\n\n  onRightNavClick() {\n    const from = this.currentDateView.clone();\n    this.moveCalendarsBy(this.currentDateView, 1, 'month');\n    const to = this.currentDateView.clone();\n    this.onRightNav.emit({from, to});\n  }\n\n  onMonthCalendarLeftClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  onMonthCalendarRightClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n\n  onMonthCalendarSecondaryLeftClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n\n  onMonthCalendarSecondaryRightClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  getWeekdayName(weekday: Moment): string {\n    if (this.componentConfig.weekDayFormatter) {\n      return this.componentConfig.weekDayFormatter(weekday.day());\n    }\n\n    return weekday.format(this.componentConfig.weekDayFormat);\n  }\n\n  toggleCalendarMode(mode: ECalendarMode) {\n    if (this.currentCalendarMode !== mode) {\n      this.currentCalendarMode = mode;\n      this.onNavHeaderBtnClick.emit(mode);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  monthSelected(month: IMonth) {\n    this.currentDateView = month.date.clone();\n    this.currentCalendarMode = ECalendarMode.Day;\n    this.onMonthSelect.emit(month);\n  }\n\n  moveCalendarsBy(current: Moment, amount: number, granularity: unitOfTime.Base = 'month') {\n    this.currentDateView = current.clone().add(amount, granularity);\n    this.cd.markForCheck();\n  }\n\n  moveCalendarTo(to: SingleCalendarValue) {\n    if (to) {\n      this.currentDateView = this.utilsService.convertToMoment(to, this.componentConfig.format);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  shouldShowCurrent(): boolean {\n    return this.utilsService.shouldShowCurrent(\n      this.componentConfig.showGoToCurrent,\n      'day',\n      this.componentConfig.min,\n      this.componentConfig.max\n    );\n  }\n\n  goToCurrent() {\n    this.currentDateView = moment();\n    this.onGoToCurrent.emit();\n  }\n\n  handleConfigChange(config: SimpleChange) {\n    if (config) {\n      const prevConf: IDayCalendarConfigInternal = this.dayCalendarService.getConfig(config.previousValue);\n      const currentConf: IDayCalendarConfigInternal = this.dayCalendarService.getConfig(config.currentValue);\n\n      if (this.utilsService.shouldResetCurrentView(prevConf, currentConf)) {\n        this._currentDateView = null;\n      }\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IMonth} from './month.model';\nimport {IMonthCalendarConfig, IMonthCalendarConfigInternal} from './month-calendar-config';\nconst moment = momentNs;\n\n@Injectable()\nexport class MonthCalendarService {\n  readonly DEFAULT_CONFIG: IMonthCalendarConfigInternal = {\n    allowMultiSelect: false,\n    yearFormat: 'YYYY',\n    format: 'MM-YYYY',\n    isNavHeaderBtnClickable: false,\n    monthBtnFormat: 'MMM',\n    locale: moment.locale(),\n    multipleYearsNavigateBy: 10,\n    showMultipleYearsNavigation: false,\n    unSelectOnClick: true\n  };\n\n  constructor(private utilsService: UtilsService) {\n  }\n\n  getConfig(config: IMonthCalendarConfig): IMonthCalendarConfigInternal {\n    const _config = <IMonthCalendarConfigInternal>{\n      ...this.DEFAULT_CONFIG,\n      ...this.utilsService.clearUndefined(config)\n    };\n\n    this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  generateYear(config: IMonthCalendarConfig, year: Moment, selected: Moment[] = null): IMonth[][] {\n    const index = year.clone().startOf('year');\n\n    return this.utilsService.createArray(3).map(() => {\n      return this.utilsService.createArray(4).map(() => {\n        const date = index.clone();\n        const month = {\n          date,\n          selected: !!selected.find(s => index.isSame(s, 'month')),\n          currentMonth: index.isSame(moment(), 'month'),\n          disabled: this.isMonthDisabled(date, config),\n          text: this.getMonthBtnText(config, date)\n        };\n\n        index.add(1, 'month');\n\n        return month;\n      });\n    });\n  }\n\n  isMonthDisabled(date: Moment, config: IMonthCalendarConfig) {\n    if (config.min && date.isBefore(config.min, 'month')) {\n      return true;\n    }\n\n    return !!(config.max && date.isAfter(config.max, 'month'));\n  }\n\n  shouldShowLeft(min: Moment, currentMonthView: Moment): boolean {\n    return min ? min.isBefore(currentMonthView, 'year') : true;\n  }\n\n  shouldShowRight(max: Moment, currentMonthView: Moment): boolean {\n    return max ? max.isAfter(currentMonthView, 'year') : true;\n  }\n\n  getHeaderLabel(config: IMonthCalendarConfig, year: Moment): string {\n    if (config.yearFormatter) {\n      return config.yearFormatter(year);\n    }\n\n    return year.format(config.yearFormat);\n  }\n\n  getMonthBtnText(config: IMonthCalendarConfig, month: Moment): string {\n    if (config.monthBtnFormatter) {\n      return config.monthBtnFormatter(month);\n    }\n\n    return month.format(config.monthBtnFormat);\n  }\n\n  getMonthBtnCssClass(config: IMonthCalendarConfig, month: Moment): string {\n    if (config.monthBtnCssClassCallback) {\n      return config.monthBtnCssClassCallback(month);\n    }\n\n    return '';\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport {IMonth} from './month.model';\nimport {MonthCalendarService} from './month-calendar.service';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {IMonthCalendarConfig, IMonthCalendarConfigInternal} from './month-calendar-config';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {DateValidator} from '../common/types/validator.type';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {INavEvent} from '../common/models/navigation-event.model';\nconst moment = momentNs;\n\n@Component({\n  selector: 'dp-month-calendar',\n  templateUrl: 'month-calendar.component.html',\n  styleUrls: ['month-calendar.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    MonthCalendarService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => MonthCalendarComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => MonthCalendarComponent),\n      multi: true\n    }\n  ]\n})\nexport class MonthCalendarComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n  @Input() config: IMonthCalendarConfig;\n  @Input() displayDate: Moment;\n  @Input() minDate: Moment;\n  @Input() maxDate: Moment;\n  @HostBinding('class') @Input() theme: string;\n\n  @Output() onSelect: EventEmitter<IMonth> = new EventEmitter();\n  @Output() onNavHeaderBtnClick: EventEmitter<null> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onLeftSecondaryNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightSecondaryNav: EventEmitter<INavEvent> = new EventEmitter();\n\n  isInited: boolean = false;\n  componentConfig: IMonthCalendarConfigInternal;\n  _selected: Moment[];\n  yearMonths: IMonth[][];\n  _currentDateView: Moment;\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n  _shouldShowCurrent: boolean = true;\n  navLabel: string;\n  showLeftNav: boolean;\n  showRightNav: boolean;\n  showSecondaryLeftNav: boolean;\n  showSecondaryRightNav: boolean;\n\n  api = {\n    toggleCalendar: this.toggleCalendarMode.bind(this),\n    moveCalendarTo: this.moveCalendarTo.bind(this)\n  };\n\n  set selected(selected: Moment[]) {\n    this._selected = selected;\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  get selected(): Moment[] {\n    return this._selected;\n  }\n\n  set currentDateView(current: Moment) {\n    this._currentDateView = current.clone();\n    this.yearMonths = this.monthCalendarService\n      .generateYear(this.componentConfig, this._currentDateView, this.selected);\n    this.navLabel = this.monthCalendarService.getHeaderLabel(this.componentConfig, this.currentDateView);\n    this.showLeftNav = this.monthCalendarService.shouldShowLeft(this.componentConfig.min, this._currentDateView);\n    this.showRightNav = this.monthCalendarService.shouldShowRight(this.componentConfig.max, this.currentDateView);\n    this.showSecondaryLeftNav = this.componentConfig.showMultipleYearsNavigation && this.showLeftNav;\n    this.showSecondaryRightNav = this.componentConfig.showMultipleYearsNavigation && this.showRightNav;\n  }\n\n  get currentDateView(): Moment {\n    return this._currentDateView;\n  }\n\n  constructor(public readonly monthCalendarService: MonthCalendarService,\n              public readonly utilsService: UtilsService,\n              public readonly cd: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate, config} = changes;\n\n      this.handleConfigChange(config);\n      this.init();\n\n      if (minDate || maxDate) {\n        this.initValidators();\n      }\n    }\n  }\n\n  init() {\n    this.componentConfig = this.monthCalendarService.getConfig(this.config);\n    this.selected = this.selected || [];\n    this.currentDateView = this.displayDate\n      ? this.displayDate\n      : this.utilsService\n        .getDefaultDisplayDate(\n          this.currentDateView,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        );\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    this._shouldShowCurrent = this.shouldShowCurrent();\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, this.componentConfig.format, this.componentConfig.allowMultiSelect);\n      this.yearMonths = this.monthCalendarService\n        .generateYear(this.componentConfig, this.currentDateView, this.selected);\n      this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    } else {\n      this.selected = [];\n      this.yearMonths = this.monthCalendarService\n        .generateYear(this.componentConfig, this.currentDateView, this.selected);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  };\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment[]): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.componentConfig.format,\n      value,\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.validateFn = this.utilsService.createValidator(\n      {minDate: this.minDate, maxDate: this.maxDate},\n      this.componentConfig.format,\n      'month'\n    );\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  monthClicked(month: IMonth) {\n    if (month.selected && !this.componentConfig.unSelectOnClick) {\n      return;\n    }\n\n    this.selected = this.utilsService\n      .updateSelected(this.componentConfig.allowMultiSelect, this.selected, month, 'month');\n    this.yearMonths = this.monthCalendarService\n      .generateYear(this.componentConfig, this.currentDateView, this.selected);\n    this.onSelect.emit(month);\n  }\n\n  onLeftNavClick() {\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().subtract(1, 'year');\n    const to = this.currentDateView.clone();\n    this.yearMonths = this.monthCalendarService.generateYear(this.componentConfig, this.currentDateView, this.selected);\n    this.onLeftNav.emit({from, to});\n  }\n\n  onLeftSecondaryNavClick() {\n    let navigateBy = this.componentConfig.multipleYearsNavigateBy;\n    const isOutsideRange = this.componentConfig.min &&\n      this.currentDateView.year() - this.componentConfig.min.year() < navigateBy;\n\n    if (isOutsideRange) {\n      navigateBy = this.currentDateView.year() - this.componentConfig.min.year();\n    }\n\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().subtract(navigateBy, 'year');\n    const to = this.currentDateView.clone();\n    this.onLeftSecondaryNav.emit({from, to});\n  }\n\n  onRightNavClick() {\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().add(1, 'year');\n    const to = this.currentDateView.clone();\n    this.onRightNav.emit({from, to});\n  }\n\n  onRightSecondaryNavClick() {\n    let navigateBy = this.componentConfig.multipleYearsNavigateBy;\n    const isOutsideRange = this.componentConfig.max &&\n      this.componentConfig.max.year() - this.currentDateView.year() < navigateBy;\n\n    if (isOutsideRange) {\n      navigateBy = this.componentConfig.max.year() - this.currentDateView.year();\n    }\n\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().add(navigateBy, 'year');\n    const to = this.currentDateView.clone();\n    this.onRightSecondaryNav.emit({from, to});\n  }\n\n  toggleCalendarMode() {\n    this.onNavHeaderBtnClick.emit();\n  }\n\n  getMonthBtnCssClass(month: IMonth): {[klass: string]: boolean} {\n    const cssClass: {[klass: string]: boolean} = {\n      'dp-selected': month.selected,\n      'dp-current-month': month.currentMonth\n    };\n    const customCssClass: string = this.monthCalendarService.getMonthBtnCssClass(this.componentConfig, month.date);\n\n    if (customCssClass) {\n      cssClass[customCssClass] = true;\n    }\n\n    return cssClass;\n  }\n\n  shouldShowCurrent(): boolean {\n    return this.utilsService.shouldShowCurrent(\n      this.componentConfig.showGoToCurrent,\n      'month',\n      this.componentConfig.min,\n      this.componentConfig.max\n    );\n  }\n\n  goToCurrent() {\n    this.currentDateView = moment();\n    this.onGoToCurrent.emit();\n  }\n\n  moveCalendarTo(to: SingleCalendarValue) {\n    if (to) {\n      this.currentDateView = this.utilsService.convertToMoment(to, this.componentConfig.format);\n      this.cd.markForCheck();\n    }\n  }\n\n  handleConfigChange(config: SimpleChange) {\n    if (config) {\n      const prevConf: IMonthCalendarConfigInternal = this.monthCalendarService.getConfig(config.previousValue);\n      const currentConf: IMonthCalendarConfigInternal = this.monthCalendarService.getConfig(config.currentValue);\n\n      if (this.utilsService.shouldResetCurrentView(prevConf, currentConf)) {\n        this._currentDateView = null;\n      }\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IYear} from './year.model';\nimport {IYearCalendarConfig, IYearCalendarConfigInternal} from './year-calendar-config';\nconst moment = momentNs;\n\n@Injectable()\nexport class YearCalendarService {\n  readonly DEFAULT_CONFIG: IYearCalendarConfigInternal = {\n    allowMultiSelect: false,\n    yearFormat: 'YYYY',\n    format: 'YYYY',\n    isNavHeaderBtnClickable: false,\n    yearBtnFormat: 'YYYY',\n    locale: moment.locale(),\n    multipleYearsNavigateBy: 10,\n    showMultipleYearsNavigation: false,\n    unSelectOnClick: true\n  };\n\n  constructor(private utilsService: UtilsService) {\n  }\n\n  getConfig(config: IYearCalendarConfig): IYearCalendarConfigInternal {\n    const _config = <IYearCalendarConfigInternal>{\n      ...this.DEFAULT_CONFIG,\n      ...this.utilsService.clearUndefined(config)\n    };\n\n    this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);\n\n    moment.locale(_config.locale);\n\n    return _config;\n  }\n\n  generateYear(config: IYearCalendarConfig, year: Moment, selected: Moment[] = null): IYear[][] {\n    const index = year.clone().startOf('year');\n\n    return this.utilsService.createArray(3).map(() => {\n      return this.utilsService.createArray(4).map(() => {\n        const date = index.clone();\n        const year = {\n          date,\n          selected: !!selected.find(s => index.isSame(s, 'year')),\n          currentYear: index.isSame(moment(), 'year'),\n          disabled: this.isYearDisabled(date, config),\n          text: this.getYearBtnText(config, date)\n        };\n\n        index.add(1, 'year');\n\n        return year;\n      });\n    });\n  }\n\n  isYearDisabled(date: Moment, config: IYearCalendarConfig) {\n    if (config.min && date.isBefore(config.min, 'year')) {\n      return true;\n    }\n\n    return !!(config.max && date.isAfter(config.max, 'year'));\n  }\n\n  shouldShowLeft(min: Moment, currentYearView: Moment): boolean {\n    return min ? min.isBefore(currentYearView, 'year') : true;\n  }\n\n  shouldShowRight(max: Moment, currentYearView: Moment): boolean {\n    return max ? max.isAfter(currentYearView, 'year') : true;\n  }\n\n  getHeaderLabel(config: IYearCalendarConfig, year: Moment): string {\n    if (config.yearFormatter) {\n      return config.yearFormatter(year);\n    }\n\n    return year.format(config.yearFormat);\n  }\n\n  getYearBtnText(config: IYearCalendarConfig, year: Moment): string {\n    if (config.yearBtnFormatter) {\n      return config.yearBtnFormatter(year);\n    }\n\n    return year.format(config.yearBtnFormat);\n  }\n\n  getYearBtnCssClass(config: IYearCalendarConfig, year: Moment): string {\n    if (config.yearBtnCssClassCallback) {\n      return config.yearBtnCssClassCallback(year);\n    }\n\n    return '';\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport {IYear} from './year.model';\nimport {YearCalendarService} from './year-calendar.service';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {IYearCalendarConfig, IYearCalendarConfigInternal} from './year-calendar-config';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {DateValidator} from '../common/types/validator.type';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {INavEvent} from '../common/models/navigation-event.model';\nconst moment = momentNs;\n\n@Component({\n  selector: 'dp-year-calendar',\n  templateUrl: 'year-calendar.component.html',\n  styleUrls: ['year-calendar.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    YearCalendarService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => YearCalendarComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => YearCalendarComponent),\n      multi: true\n    }\n  ]\n})\nexport class YearCalendarComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n  @Input() config: IYearCalendarConfig;\n  @Input() displayDate: Moment;\n  @Input() minDate: Moment;\n  @Input() maxDate: Moment;\n  @HostBinding('class') @Input() theme: string;\n\n  @Output() onSelect: EventEmitter<IYear> = new EventEmitter();\n  @Output() onNavHeaderBtnClick: EventEmitter<null> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onLeftSecondaryNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightSecondaryNav: EventEmitter<INavEvent> = new EventEmitter();\n\n  isInited: boolean = false;\n  componentConfig: IYearCalendarConfigInternal;\n  _selected: Moment[];\n  yearYears: IYear[][];\n  _currentDateView: Moment;\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n  _shouldShowCurrent: boolean = true;\n  navLabel: string;\n  showLeftNav: boolean;\n  showRightNav: boolean;\n  showSecondaryLeftNav: boolean;\n  showSecondaryRightNav: boolean;\n\n  api = {\n    toggleCalendar: this.toggleCalendarMode.bind(this),\n    moveCalendarTo: this.moveCalendarTo.bind(this)\n  };\n\n  set selected(selected: Moment[]) {\n    this._selected = selected;\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  get selected(): Moment[] {\n    return this._selected;\n  }\n\n  set currentDateView(current: Moment) {\n    this._currentDateView = current.clone();\n    this.yearYears = this.yearCalendarService\n      .generateYear(this.componentConfig, this._currentDateView, this.selected);\n    this.navLabel = this.yearCalendarService.getHeaderLabel(this.componentConfig, this.currentDateView);\n    this.showLeftNav = this.yearCalendarService.shouldShowLeft(this.componentConfig.min, this._currentDateView);\n    this.showRightNav = this.yearCalendarService.shouldShowRight(this.componentConfig.max, this.currentDateView);\n    this.showSecondaryLeftNav = this.componentConfig.showMultipleYearsNavigation && this.showLeftNav;\n    this.showSecondaryRightNav = this.componentConfig.showMultipleYearsNavigation && this.showRightNav;\n  }\n\n  get currentDateView(): Moment {\n    return this._currentDateView;\n  }\n\n  constructor(public readonly yearCalendarService: YearCalendarService,\n              public readonly utilsService: UtilsService,\n              public readonly cd: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate, config} = changes;\n\n      this.handleConfigChange(config);\n      this.init();\n\n      if (minDate || maxDate) {\n        this.initValidators();\n      }\n    }\n  }\n\n  init() {\n    this.componentConfig = this.yearCalendarService.getConfig(this.config);\n    this.selected = this.selected || [];\n    this.currentDateView = this.displayDate\n      ? this.displayDate\n      : this.utilsService\n        .getDefaultDisplayDate(\n          this.currentDateView,\n          this.selected,\n          this.componentConfig.allowMultiSelect,\n          this.componentConfig.min\n        );\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    this._shouldShowCurrent = this.shouldShowCurrent();\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, this.componentConfig.format, this.componentConfig.allowMultiSelect);\n      this.yearYears = this.yearCalendarService\n        .generateYear(this.componentConfig, this.currentDateView, this.selected);\n      this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);\n    } else {\n      this.selected = [];\n      this.yearYears = this.yearCalendarService\n        .generateYear(this.componentConfig, this.currentDateView, this.selected);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  };\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment[]): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.componentConfig.format,\n      value,\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.validateFn = this.utilsService.createValidator(\n      {minDate: this.minDate, maxDate: this.maxDate},\n      this.componentConfig.format,\n      'year'\n    );\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  yearClicked(year: IYear) {\n    if (year.selected && !this.componentConfig.unSelectOnClick) {\n      return;\n    }\n\n    this.selected = this.utilsService\n      .updateSelected(this.componentConfig.allowMultiSelect, this.selected, year, 'year');\n    this.yearYears = this.yearCalendarService\n      .generateYear(this.componentConfig, this.currentDateView, this.selected);\n    this.onSelect.emit(year);\n  }\n\n  onLeftNavClick() {\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().subtract(12, 'year');\n    const to = this.currentDateView.clone();\n    this.yearYears = this.yearCalendarService.generateYear(this.componentConfig, this.currentDateView, this.selected);\n    this.onLeftNav.emit({from, to});\n  }\n\n  onLeftSecondaryNavClick() {\n    let navigateBy = this.componentConfig.multipleYearsNavigateBy;\n    const isOutsideRange = this.componentConfig.min &&\n      this.currentDateView.year() - this.componentConfig.min.year() < navigateBy;\n\n    if (isOutsideRange) {\n      navigateBy = this.currentDateView.year() - this.componentConfig.min.year();\n    }\n\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().subtract(navigateBy, 'year');\n    const to = this.currentDateView.clone();\n    this.onLeftSecondaryNav.emit({from, to});\n  }\n\n  onRightNavClick() {\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().add(12, 'year');\n    const to = this.currentDateView.clone();\n    this.onRightNav.emit({from, to});\n  }\n\n  onRightSecondaryNavClick() {\n    let navigateBy = this.componentConfig.multipleYearsNavigateBy;\n    const isOutsideRange = this.componentConfig.max &&\n      this.componentConfig.max.year() - this.currentDateView.year() < navigateBy;\n\n    if (isOutsideRange) {\n      navigateBy = this.componentConfig.max.year() - this.currentDateView.year();\n    }\n\n    const from = this.currentDateView.clone();\n    this.currentDateView = this.currentDateView.clone().add(navigateBy, 'year');\n    const to = this.currentDateView.clone();\n    this.onRightSecondaryNav.emit({from, to});\n  }\n\n  toggleCalendarMode() {\n    this.onNavHeaderBtnClick.emit();\n  }\n\n  getYearBtnCssClass(year: IYear): {[klass: string]: boolean} {\n    const cssClass: {[klass: string]: boolean} = {\n      'dp-selected': year.selected,\n      'dp-current-year': year.currentYear\n    };\n    const customCssClass: string = this.yearCalendarService.getYearBtnCssClass(this.componentConfig, year.date);\n\n    if (customCssClass) {\n      cssClass[customCssClass] = true;\n    }\n\n    return cssClass;\n  }\n\n  shouldShowCurrent(): boolean {\n    return this.utilsService.shouldShowCurrent(\n      this.componentConfig.showGoToCurrent,\n      'year',\n      this.componentConfig.min,\n      this.componentConfig.max\n    );\n  }\n\n  goToCurrent() {\n    this.currentDateView = moment();\n    this.onGoToCurrent.emit();\n  }\n\n  moveCalendarTo(to: SingleCalendarValue) {\n    if (to) {\n      this.currentDateView = this.utilsService.convertToMoment(to, this.componentConfig.format);\n      this.cd.markForCheck();\n    }\n  }\n\n  handleConfigChange(config: SimpleChange) {\n    if (config) {\n      const prevConf: IYearCalendarConfigInternal = this.yearCalendarService.getConfig(config.previousValue);\n      const currentConf: IYearCalendarConfigInternal = this.yearCalendarService.getConfig(config.currentValue);\n\n      if (this.utilsService.shouldResetCurrentView(prevConf, currentConf)) {\n        this._currentDateView = null;\n      }\n    }\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport {TimeSelectService, TimeUnit} from './time-select.service';\nimport * as momentNs from 'moment';\nimport {Moment} from 'moment';\nimport {ITimeSelectConfig, ITimeSelectConfigInternal} from './time-select-config.model';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDate} from '../common/models/date.model';\nimport {DateValidator} from '../common/types/validator.type';\nconst moment = momentNs;\n\n@Component({\n  selector: 'dp-time-select',\n  templateUrl: 'time-select.component.html',\n  styleUrls: ['time-select.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    TimeSelectService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TimeSelectComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => TimeSelectComponent),\n      multi: true\n    }\n  ]\n})\nexport class TimeSelectComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() config: ITimeSelectConfig;\n  @Input() displayDate: SingleCalendarValue;\n  @Input() minDate: SingleCalendarValue;\n  @Input() maxDate: SingleCalendarValue;\n  @Input() minTime: SingleCalendarValue;\n  @Input() maxTime: SingleCalendarValue;\n  @HostBinding('class') @Input() theme: string;\n\n  @Output() onChange: EventEmitter<IDate> = new EventEmitter();\n\n  isInited: boolean = false;\n  componentConfig: ITimeSelectConfigInternal;\n  _selected: Moment;\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n\n  hours: string;\n  minutes: string;\n  seconds: string;\n  meridiem: string;\n\n  showDecHour: boolean;\n  showDecMinute: boolean;\n  showDecSecond: boolean;\n  showIncHour: boolean;\n  showIncMinute: boolean;\n  showIncSecond: boolean;\n  showToggleMeridiem: boolean;\n\n  set selected(selected: Moment) {\n    this._selected = selected;\n    this.calculateTimeParts(this.selected);\n\n    this.showDecHour = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'hour');\n    this.showDecMinute = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'minute');\n    this.showDecSecond = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'second');\n\n    this.showIncHour = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'hour');\n    this.showIncMinute = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'minute');\n    this.showIncSecond = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'second');\n\n    this.showToggleMeridiem = this.timeSelectService.shouldShowToggleMeridiem(this.componentConfig, this._selected);\n\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  get selected(): Moment {\n    return this._selected;\n  }\n\n  api = {\n    triggerChange: this.emitChange.bind(this)\n  };\n\n  constructor(public timeSelectService: TimeSelectService,\n              public utilsService: UtilsService,\n              public cd: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  init() {\n    this.componentConfig = this.timeSelectService.getConfig(this.config);\n    this.selected = this.selected || moment();\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, false);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate, minTime, maxTime} = changes;\n      this.init();\n\n      if (minDate || maxDate || minTime || maxTime) {\n        this.initValidators();\n      }\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      const momentValue = this.utilsService\n        .convertToMomentArray(value, this.timeSelectService.getTimeFormat(this.componentConfig), false)[0];\n      if (momentValue.isValid()) {\n        this.selected = momentValue;\n        this.inputValueType = this.utilsService\n          .getInputType(this.inputValue, false);\n      }\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  };\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate || this.minTime || this.maxTime) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.timeSelectService.getTimeFormat(this.componentConfig),\n      [value],\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.utilsService.createValidator(\n      {\n        minDate: this.minDate,\n        maxDate: this.maxDate,\n        minTime: this.minTime,\n        maxTime: this.maxTime\n      }, undefined, 'day');\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  decrease(unit: TimeUnit) {\n    this.selected = this.timeSelectService.decrease(this.componentConfig, this.selected, unit);\n    this.emitChange();\n  }\n\n  increase(unit: TimeUnit) {\n    this.selected = this.timeSelectService.increase(this.componentConfig, this.selected, unit);\n    this.emitChange();\n  }\n\n  toggleMeridiem() {\n    this.selected = this.timeSelectService.toggleMeridiem(this.selected);\n    this.emitChange();\n  }\n\n  emitChange() {\n    this.onChange.emit({date: this.selected, selected: false});\n    this.cd.markForCheck();\n  }\n\n  calculateTimeParts(time: Moment) {\n    this.hours = this.timeSelectService.getHours(this.componentConfig, time);\n    this.minutes = this.timeSelectService.getMinutes(this.componentConfig, time);\n    this.seconds = this.timeSelectService.getSeconds(this.componentConfig, time);\n    this.meridiem = this.timeSelectService.getMeridiem(this.componentConfig, time);\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\n\n@Component({\n  selector: 'dp-calendar-nav',\n  templateUrl: './calendar-nav.component.html',\n  styleUrls: ['./calendar-nav.component.less'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CalendarNavComponent {\n  @Input() label: string;\n  @Input() isLabelClickable: boolean = false;\n  @Input() showLeftNav: boolean = true;\n  @Input() showLeftSecondaryNav: boolean = false;\n  @Input() showRightNav: boolean = true;\n  @Input() showRightSecondaryNav: boolean = false;\n  @Input() leftNavDisabled: boolean = false;\n  @Input() leftSecondaryNavDisabled: boolean = false;\n  @Input() rightNavDisabled: boolean = false;\n  @Input() rightSecondaryNavDisabled: boolean = false;\n  @Input() showGoToCurrent: boolean = true;\n  @HostBinding('class') @Input() theme: string;\n\n  @Output() onLeftNav: EventEmitter<null> = new EventEmitter();\n  @Output() onLeftSecondaryNav: EventEmitter<null> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<null> = new EventEmitter();\n  @Output() onRightSecondaryNav: EventEmitter<null> = new EventEmitter();\n  @Output() onLabelClick: EventEmitter<null> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<null> = new EventEmitter();\n\n  leftNavClicked() {\n    this.onLeftNav.emit();\n  }\n\n  leftSecondaryNavClicked() {\n    this.onLeftSecondaryNav.emit();\n  }\n\n  rightNavClicked() {\n    this.onRightNav.emit();\n  }\n\n  rightSecondaryNavClicked() {\n    this.onRightSecondaryNav.emit();\n  }\n\n  labelClicked() {\n    this.onLabelClick.emit();\n  }\n}\n","import {ECalendarValue} from '../common/types/calendar-value-enum';\nimport {SingleCalendarValue} from '../common/types/single-calendar-value';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {\n  ControlValueAccessor,\n  FormControl,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator\n} from '@angular/forms';\nimport {Moment} from 'moment';\nimport {CalendarValue} from '../common/types/calendar-value';\nimport {UtilsService} from '../common/services/utils/utils.service';\nimport {IDate} from '../common/models/date.model';\nimport {DayCalendarService} from '../day-calendar/day-calendar.service';\nimport {TimeSelectService} from '../time-select/time-select.service';\nimport {IDayTimeCalendarConfig} from './day-time-calendar-config.model';\nimport {DayTimeCalendarService} from './day-time-calendar.service';\nimport {DateValidator} from '../common/types/validator.type';\nimport {DayCalendarComponent} from '../day-calendar/day-calendar.component';\nimport {INavEvent} from '../common/models/navigation-event.model';\n\n@Component({\n  selector: 'dp-day-time-calendar',\n  templateUrl: 'day-time-calendar.component.html',\n  styleUrls: ['day-time-calendar.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    DayTimeCalendarService,\n    DayCalendarService,\n    TimeSelectService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DayTimeCalendarComponent),\n      multi: true\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => DayTimeCalendarComponent),\n      multi: true\n    }\n  ]\n})\nexport class DayTimeCalendarComponent implements OnInit, OnChanges, ControlValueAccessor, Validator {\n\n  @Input() config: IDayTimeCalendarConfig;\n  @Input() displayDate: SingleCalendarValue;\n  @Input() minDate: SingleCalendarValue;\n  @Input() maxDate: SingleCalendarValue;\n  @HostBinding('class') @Input() theme: string;\n\n  @Output() onChange: EventEmitter<IDate> = new EventEmitter();\n  @Output() onGoToCurrent: EventEmitter<void> = new EventEmitter();\n  @Output() onLeftNav: EventEmitter<INavEvent> = new EventEmitter();\n  @Output() onRightNav: EventEmitter<INavEvent> = new EventEmitter();\n\n  @ViewChild('dayCalendar') dayCalendarRef: DayCalendarComponent;\n\n  isInited: boolean = false;\n  componentConfig: IDayTimeCalendarConfig;\n  _selected: Moment;\n  inputValue: CalendarValue;\n  inputValueType: ECalendarValue;\n  validateFn: DateValidator;\n\n  set selected(selected: Moment) {\n    this._selected = selected;\n    this.onChangeCallback(this.processOnChangeCallback(selected));\n  }\n\n  get selected(): Moment {\n    return this._selected;\n  }\n\n  api = {\n    moveCalendarTo: this.moveCalendarTo.bind(this)\n  };\n\n  constructor(public dayTimeCalendarService: DayTimeCalendarService,\n              public utilsService: UtilsService,\n              public cd: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    this.isInited = true;\n    this.init();\n    this.initValidators();\n  }\n\n  init() {\n    this.componentConfig = this.dayTimeCalendarService.getConfig(this.config);\n    this.inputValueType = this.utilsService.getInputType(this.inputValue, false);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.isInited) {\n      const {minDate, maxDate} = changes;\n      this.init();\n\n      if (minDate || maxDate) {\n        this.initValidators();\n      }\n    }\n  }\n\n  writeValue(value: CalendarValue): void {\n    this.inputValue = value;\n\n    if (value) {\n      this.selected = this.utilsService\n        .convertToMomentArray(value, this.componentConfig.format, false)[0];\n      this.inputValueType = this.utilsService\n        .getInputType(this.inputValue, false);\n    } else {\n      this.selected = null;\n    }\n\n    this.cd.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  onChangeCallback(_: any) {\n  };\n\n  registerOnTouched(fn: any): void {\n  }\n\n  validate(formControl: FormControl): ValidationErrors | any {\n    if (this.minDate || this.maxDate) {\n      return this.validateFn(formControl.value);\n    } else {\n      return () => null;\n    }\n  }\n\n  processOnChangeCallback(value: Moment): CalendarValue {\n    return this.utilsService.convertFromMomentArray(\n      this.componentConfig.format,\n      [value],\n      this.componentConfig.returnedValueType || this.inputValueType\n    );\n  }\n\n  initValidators() {\n    this.validateFn = this.utilsService.createValidator(\n      {\n        minDate: this.minDate,\n        maxDate: this.maxDate\n      }, undefined, 'daytime');\n\n    this.onChangeCallback(this.processOnChangeCallback(this.selected));\n  }\n\n  dateSelected(day: IDate) {\n    this.selected = this.dayTimeCalendarService.updateDay(this.selected, day.date, this.config);\n    this.emitChange();\n  }\n\n  timeChange(time: IDate) {\n    this.selected = this.dayTimeCalendarService.updateTime(this.selected, time.date);\n    this.emitChange();\n  }\n\n  emitChange() {\n    this.onChange.emit({date: this.selected, selected: false});\n  }\n\n  moveCalendarTo(to: SingleCalendarValue) {\n    if (to) {\n      this.dayCalendarRef.moveCalendarTo(to);\n    }\n  }\n\n  onLeftNavClick(change: INavEvent) {\n    this.onLeftNav.emit(change);\n  }\n\n  onRightNavClick(change: INavEvent) {\n    this.onRightNav.emit(change);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {CommonModule} from '@angular/common';\nimport {DomHelper} from './common/services/dom-appender/dom-appender.service';\nimport {UtilsService} from './common/services/utils/utils.service';\nimport {DatePickerComponent} from './date-picker/date-picker.component';\nimport {DatePickerDirective} from './date-picker/date-picker.directive';\nimport {DayCalendarComponent} from './day-calendar/day-calendar.component';\nimport {MonthCalendarComponent} from './month-calendar/month-calendar.component';\nimport {YearCalendarComponent} from './year-calendar/year-calendar.component';\nimport {TimeSelectComponent} from './time-select/time-select.component';\nimport {CalendarNavComponent} from './calendar-nav/calendar-nav.component';\nimport {DayTimeCalendarComponent} from './day-time-calendar/day-time-calendar.component';\nexport {DatePickerComponent} from './date-picker/date-picker.component';\nexport {DatePickerDirective} from './date-picker/date-picker.directive';\nexport {DayCalendarComponent} from './day-calendar/day-calendar.component';\nexport {DayTimeCalendarComponent} from './day-time-calendar/day-time-calendar.component';\nexport {TimeSelectComponent} from './time-select/time-select.component';\nexport {MonthCalendarComponent} from './month-calendar/month-calendar.component';\nexport {YearCalendarComponent} from './year-calendar/year-calendar.component';\n\n@NgModule({\n  providers: [\n    DomHelper,\n    UtilsService\n  ],\n  declarations: [\n    DatePickerComponent,\n    DatePickerDirective,\n    DayCalendarComponent,\n    MonthCalendarComponent,\n    CalendarNavComponent,\n    TimeSelectComponent,\n    DayTimeCalendarComponent,\n    YearCalendarComponent\n  ],\n  entryComponents: [\n    DatePickerComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  exports: [\n    DatePickerComponent,\n    DatePickerDirective,\n    MonthCalendarComponent,\n    DayCalendarComponent,\n    TimeSelectComponent,\n    DayTimeCalendarComponent,\n    YearCalendarComponent\n  ]\n})\nexport class DpDatePickerModule {\n}\n"],"names":["Injectable","moment","EventEmitter","Component","ViewEncapsulation","ChangeDetectionStrategy","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","ElementRef","Renderer","ChangeDetectorRef","Input","HostBinding","Output","ViewChild","HostListener","Directive","ViewContainerRef","ComponentFactoryResolver","NgControl","Optional","NgModule","CommonModule","FormsModule"],"mappings":"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"}
